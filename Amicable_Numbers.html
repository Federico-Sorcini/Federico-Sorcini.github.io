<!doctype html>
<html>
<head>
<meta charset="utf-8">
<title>Amicable Numbers</title>
<script language="javascript">
    function main()
    {
        first = parseInt(document.getElementById("number1").value);
        second = parseInt(document.getElementById("number2").value);
        firstFactors = [];
        secondFactors = [];
        getFactors(first, firstFactors);
        getFactors(second, secondFactors);
        popUp(first, firstFactors);
        popUp(second, secondFactors);
        sum1 = sumOfFactors(firstFactors);
        sum2 = sumOfFactors(secondFactors);
        checkAmicable(first, second, sum1, sum2);
        
    }
    function getFactors(num, array)
    {
        for (i = 1; i < num; i++)
        {
            if (isAFactor(i, num) > 0)
            {
                array.push(isAFactor(i, num));
            }
        }
    }
    function isAFactor(x,y)
    {
        if (y % x == 0)
        {
            return x;
        }
    }
    function popUp(num, array)
    {
       window.alert("Factors of " + num + ": " + array);
    }
    function sumOfFactors(array)
    {
        sum = 0;
        for (i = 0; i < array.length; i++)
        {
            sum = sum + array[i];
        }
        return sum;
    }
    function checkAmicable(x, y, s1, s2)
    {
        if (x == s2 && y == s1)
        {
            document.getElementById('result').innerHTML = "The numbers " + x + " and " + y + " are amicable!"
        }
        else
        {
            document.getElementById('result').innerHTML = "The numbers " + x + " and " + y + " are not amicable."
        }
    }
</script>
</head>

<body>
    <form name = form1>
        Number 1: <input type="text" id="number1"><br><br>
        Number 2: <input type="text" id="number2"><br><br>
        <input type= "button" value = "Check if amicable" onclick="main()">
    </form>
    <br>
    <div id="result"></div>
</body>
</html>